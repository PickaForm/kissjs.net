<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Collection</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
             
                <a href="index.html">
                    <h1 class="navbar-item">KissJS api documentation</h1>
                </a>
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Namespaces</h3><ul><li><a href="kiss.html">kiss</a></li><li><a href="kiss.acl.html">acl</a></li><li><a href="kiss.ajax.html">ajax</a></li><li><a href="kiss.app.html">app</a></li><li><a href="kiss.context.html">context</a></li><li><a href="kiss.data.html">data</a></li><li><a href="kiss.data.trash.html">trash</a></li><li><a href="kiss.db.html">db</a></li><li><a href="kiss.db.faker.html">faker</a></li><li><a href="kiss.db.memory.html">memory</a></li><li><a href="kiss.db.mongo.html">mongo</a></li><li><a href="kiss.db.offline.html">offline</a></li><li><a href="kiss.db.online.html">online</a></li><li><a href="kiss.directory.html">directory</a></li><li><a href="kiss.formula.html">formula</a></li><li><a href="kiss.language.html">language</a></li><li><a href="kiss.loader.html">loader</a></li><li><a href="kiss.loadingSpinner.html">loadingSpinner</a></li><li><a href="kiss.logger.html">logger</a></li><li><a href="kiss.plugins.html">plugins</a></li><li><a href="kiss.pubsub.html">pubsub</a></li><li><a href="kiss.router.html">router</a></li><li><a href="kiss.screen.html">screen</a></li><li><a href="kiss.selection.html">selection</a></li><li><a href="kiss.serviceWorker.html">serviceWorker</a></li><li><a href="kiss.session.html">session</a></li><li><a href="kiss.theme.html">theme</a></li><li><a href="kiss.tools.html">tools</a></li><li><a href="kiss.ui.html">ui</a></li><li><a href="kiss.undoRedo.html">undoRedo</a></li><li><a href="kiss.ux.html">ux</a></li><li><a href="kiss.views.html">views</a></li><li><a href="kiss.websocket.html">websocket</a></li></ul><h3>Classes</h3><ul><li><a href="kiss.data.Collection.html">Collection</a></li><li><a href="kiss.data.Model.html">Model</a></li><li><a href="kiss.data.RecordFactory-Record.html">Record</a></li><li><a href="kiss.data.Transaction.html">Transaction</a></li><li><a href="kiss.ui.Attachment.html">Attachment</a></li><li><a href="kiss.ui.Block.html">Block</a></li><li><a href="kiss.ui.Button.html">Button</a></li><li><a href="kiss.ui.Calendar.html">Calendar</a></li><li><a href="kiss.ui.Checkbox.html">Checkbox</a></li><li><a href="kiss.ui.Color.html">Color</a></li><li><a href="kiss.ui.ColorPicker.html">ColorPicker</a></li><li><a href="kiss.ui.Component.html">Component</a></li><li><a href="kiss.ui.Container.html">Container</a></li><li><a href="kiss.ui.DataComponent.html">DataComponent</a></li><li><a href="kiss.ui.Datatable.html">Datatable</a></li><li><a href="kiss.ui.Dialog.html">Dialog</a></li><li><a href="kiss.ui.Field.html">Field</a></li><li><a href="kiss.ui.Html.html">Html</a></li><li><a href="kiss.ui.Icon.html">Icon</a></li><li><a href="kiss.ui.IconPicker.html">IconPicker</a></li><li><a href="kiss.ui.Image.html">Image</a></li><li><a href="kiss.ui.Kanban.html">Kanban</a></li><li><a href="kiss.ui.Menu.html">Menu</a></li><li><a href="kiss.ui.Notification.html">Notification</a></li><li><a href="kiss.ui.Panel.html">Panel</a></li><li><a href="kiss.ui.Rating.html">Rating</a></li><li><a href="kiss.ui.Select.html">Select</a></li><li><a href="kiss.ui.Slider.html">Slider</a></li><li><a href="kiss.ui.Spacer.html">Spacer</a></li><li><a href="kiss.ui.Timeline.html">Timeline</a></li><li><a href="kiss.ui.Tip.html">Tip</a></li><li><a href="kiss.ux.AiImage.html">AiImage</a></li><li><a href="kiss.ux.AiTextarea.html">AiTextarea</a></li><li><a href="kiss.ux.CodeEditor.html">CodeEditor</a></li><li><a href="kiss.ux.Directory.html">Directory</a></li><li><a href="kiss.ux.Link.html">Link</a></li><li><a href="kiss.ux.QrCode.html">QrCode</a></li><li><a href="kiss.ux.WizardPanel.html">WizardPanel</a></li></ul><h3>Global</h3><ul><li><a href="global.html#createAttachment">createAttachment</a></li><li><a href="global.html#createBlock">createBlock</a></li><li><a href="global.html#createButton">createButton</a></li><li><a href="global.html#createCalendar">createCalendar</a></li><li><a href="global.html#createCheckbox">createCheckbox</a></li><li><a href="global.html#createCodeEditor">createCodeEditor</a></li><li><a href="global.html#createColorField">createColorField</a></li><li><a href="global.html#createColorPicker">createColorPicker</a></li><li><a href="global.html#createDatatable">createDatatable</a></li><li><a href="global.html#createDateField">createDateField</a></li><li><a href="global.html#createDialog">createDialog</a></li><li><a href="global.html#createField">createField</a></li><li><a href="global.html#createForm">createForm</a></li><li><a href="global.html#createHtml">createHtml</a></li><li><a href="global.html#createIconField">createIconField</a></li><li><a href="global.html#createIconPicker">createIconPicker</a></li><li><a href="global.html#createImage">createImage</a></li><li><a href="global.html#createKanban">createKanban</a></li><li><a href="global.html#createList">createList</a></li><li><a href="global.html#createMenu">createMenu</a></li><li><a href="global.html#createNotification">createNotification</a></li><li><a href="global.html#createNumberField">createNumberField</a></li><li><a href="global.html#createPanel">createPanel</a></li><li><a href="global.html#createPasswordField">createPasswordField</a></li><li><a href="global.html#createQRCode">createQRCode</a></li><li><a href="global.html#createRating">createRating</a></li><li><a href="global.html#createSelect">createSelect</a></li><li><a href="global.html#createSlider">createSlider</a></li><li><a href="global.html#createTextField">createTextField</a></li><li><a href="global.html#createTextareaField">createTextareaField</a></li><li><a href="global.html#createTimeline">createTimeline</a></li><li><a href="global.html#createTip">createTip</a></li><li><a href="global.html#createWizardPanel">createWizardPanel</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Class</p>
                    <h1>Collection</h1>
                </header>
                




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="kiss.html">kiss</a><a href="kiss.data.html">.data</a>.</span>Collection<span class="signature">(config)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>Represents a <strong>Collection</strong> of records.</p>
<p>A <strong>Collection</strong> is an interface to manipulate and cache a collection of records.
To see how a <strong>Collection</strong> relates to models, fields and records, please refer to the <a href="kiss.data.Model.html">Model documentation</a>.</p>
<p>Each <strong>Model</strong> has an associated default Collection to hold its records:</p>
<ul>
<li>this default Collection is instantiated (but not loaded) at the same time as the Model.</li>
<li>it means that you can always access the records of a Model, even if you didn't explicity created a Collection for it.</li>
<li>this default collection is accessible with: <strong>kiss.app.collections[modelId]</strong>, or simply <strong>app.collections.modelId</strong></li>
</ul>
<pre class="prettyprint source"><code>let myCarCollection = kiss.app.collections[&quot;car&quot;]
</code></pre>
<p>Below is a table that shows the global flow between KissJS client and KissJS server, and the chain of methods used.</p>
<p>Here is the flow:</p>
<ul>
<li><strong>kiss.data.Collection</strong> or <a href="kiss.data.RecordFactory-Record.html"><strong>kiss.data.Record</strong></a> calls <a href="kiss.db.html"><strong>kiss.db</strong></a></li>
<li>kiss.db points to the right db api: <a href="kiss.db.memory.html"><strong>kiss.db.memory</strong></a> or <a href="kiss.db.offline.html"><strong>kiss.db.offline</strong></a> or <a href="kiss.db.online.html"><strong>kiss.db.online</strong></a></li>
<li>if online, kiss.db perform an HTTP request using <a href="kiss.ajax.html"><strong>kiss.ajax.request</strong></a></li>
<li>the KissJS server receives the request</li>
<li>the request is processed by the server Controller</li>
<li>the Controller calls MongoDb api with the native MongoDb driver</li>
<li>the Controller pass the response back to kiss.ajax.request</li>
<li>if a database mutation has occured (CUD operations), the server Controller sends a WebSocket message to the connected clients</li>
<li>each Collection intercepts the WebSocket message and update its records accordingly</li>
<li>each data Component (field, datatable...) intercepts the message and updates its UI accordingly</li>
</ul>
<p>Currently, database mutations must be performed at the Record level.</p>
<table>
<thead>
<tr>
<th>kiss.data.Collection</th>
<th>kiss.db</th>
<th>HTTP</th>
<th>KissJS server - Node.controller</th>
<th>MongoDb database</th>
</tr>
</thead>
<tbody>
<tr>
<td>find()</td>
<td>find</td>
<td>GET /modelId</td>
<td>find</td>
<td>find({})</td>
</tr>
<tr>
<td>find(query)</td>
<td>find(modelId, query)</td>
<td>POST /modelId :body=query</td>
<td>findAndSort(query)</td>
<td>find(query.filter).sort(query.sort)</td>
</tr>
<tr>
<td>findOne(recordId)</td>
<td>findOne(modelId, recordId)</td>
<td>GET /modelId/recordId</td>
<td>findOne</td>
<td>collection.findOne</td>
</tr>
<tr>
<td><none></td>
<td>insertOne(modelId, record)</td>
<td>POST /modelId :body=record</td>
<td>insertOne</td>
<td>insertOne</td>
</tr>
<tr>
<td><none></td>
<td>insertMany(modelId, records)</td>
<td>POST /modelId :body=records</td>
<td>insertMany</td>
<td>insertMany</td>
</tr>
<tr>
<td><none></td>
<td>updateOne(modelId, recordId, update)</td>
<td>PATCH /modelId/recordId :body=update</td>
<td>updateOne</td>
<td>updateOne</td>
</tr>
<tr>
<td><none></td>
<td>updateMany(modelId, query, updates)</td>
<td>PATCH /modelId/ :body=query+updates</td>
<td>updateMany</td>
<td>updateMany</td>
</tr>
<tr>
<td><none></td>
<td>updateBulk(modelId, updates)</td>
<td>PATCH /modelId/ :body=updates</td>
<td>updateBulk</td>
<td>updateBulk</td>
</tr>
<tr>
<td><none></td>
<td>deleteOne(modelId, recordId)</td>
<td>DELETE /modelId/recordId</td>
<td>delete</td>
<td>delete (performs a soft delete)</td>
</tr>
</tbody>
</table>
<p>Technical notes about performances:</p>
<ul>
<li>KissJS collections don't contain raw data, but actual record's instances</li>
<li>this allows to use virtual (computed) fields as normal fields, and even perform aggregations on those fields</li>
<li>the process of instanciating a record takes a linear time which is about 0.0004ms per field for an Intel core i7-4790K</li>
<li>for example: it take 24ms to load 5000 records with 12 fields, or 480ms to load 50000 records with 24 fields</li>
</ul></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class='vertical-section'>
                <div class="members">
                    <div class="member">
                        <div class=name>
                            <span class="tag">Constructor</span>
                        </div>
                        


    
    <h4 class="name" id="Collection">
        <a class="href-link" href="#Collection">#</a>
        
        <span class="code-name">
            
                new Collection<span class="signature">(config)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            
            <th>Attributes</th>
            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>config</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      

      

      
      </td>
  

  

  <td class="description last"><p>Collection configuration</p></td>
</tr>

  
  
    
<tr class="deep-level-1">
  
      <td class="name"><code>mode</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>&quot;memory&quot; | &quot;offline&quot; | &quot;online&quot;</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>id</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>model</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      

      

      
      </td>
  

  

  <td class="description last"><p>The Model used to build the collection</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>records</code></td>
  

  <td class="type">
  
      
<code class="param-type"><a href="Array.html">Array</a>.&lt;object></code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>Records to init the collection: [{...}, {...}, ...]</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>sort</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>default sort</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>filter</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>default filter</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>projection</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>default projection</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>group</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>default grouping</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>groupUnwind</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>Unwind allow records belonging to multiple groups to appear as multiple entries</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>showLoadingSpinner</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>if false, doesn't show the loading spinner while retrieving data (default = true)</p></td>
</tr>

  


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line91">line 91</a>
            </span>
        </p>
    
</dl>





















    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>// Register a new collectionlet userCollection = new kiss.data.Collection({model: modelUser})// Get collection recordslet users = await userCollection.find()// Create a new model and use its auto-generated collectionlet taskModel = new kiss.data.Model({ id: "YOUR_MODEL_ID", name: "task", namePlural: "tasks", items: [     {id: "name", label: "Name", type: "text"},     {id: "duedate", label: "Due date", type: "date"},     {id: "done", label: "Done?", type: "checkbox"} // = Checkbox implicit type is "boolean" ]})// Create a new Recordlet newTask = taskModel.create({name: "Task 1", duedate: "2021-03-30", done: false})await newTask.save()// Get the default collection for this model, then get the recordslet tasksCollection = kiss.app.collections["YOUR_MODEL_ID"]let tasks = await tasksCollection.find()console.log(tasks)</code></pre>
    



                    </div>
                </div>
            </div>
        
    
    </div>
    
    

    

    

    

    

    

    

    
        <div class='vertical-section'>
            <h1>Methods</h1>
            <div class="members">
            
                <div class="member">


    
    <h4 class="name" id="addHook">
        <a class="href-link" href="#addHook">#</a>
        
        <span class="code-name">
            
                addHook<span class="signature">(hookType, callback)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Add a hook to perform an action before or after a mutation occurs (insert, update, delete)</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>hookType</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  

  

  <td class="description last"><p>&quot;beforeInsert&quot; | &quot;beforeUpdate&quot; | &quot;beforeDelete&quot; | &quot;afterInsert&quot; | &quot;afterUpdate&quot; | &quot;afterDelete&quot;</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>callback</code></td>
  

  <td class="type">
  
      
<code class="param-type">function</code>


  
  </td>

  

  

  <td class="description last"><p>Function to execute. It receives the following parameters: *insert(record), *update(recordId, update), *delete(recordId)</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line249">line 249</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>this</p></div>
    
    
</div>

                
        </div>
    </div>




    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>// It's possible to add a hook to observe a mutationtasksCollection.addHook("beforeInsert", function(record) { console.log("The following record will be inserted:") console.log(record)})// It's possible to add multiple hooks to the same mutationtasksCollection.addHook("beforeInsert", function(record) { console.log("Another function executed for the same mutation!")})// Input parameters of the callback depend on the mutation typetasksCollection.addHook("afterUpdate", function(recordId, update) { console.log("The record has been udpated: " + recordId) console.log(update)})tasksCollection.addHook("afterDelete", function(recordId) { console.log("The following record has been udpated: " + recordId)})</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="deleteFakeRecords">
        <a class="href-link" href="#deleteFakeRecords">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                deleteFakeRecords<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Delete the all fake records created with the method <em>createFakeRecords</em></p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line509">line 509</a>
            </span>
        </p>
    
</dl>





















    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>await myCollection.deleteFakeRecords()</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="deleteMany">
        <a class="href-link" href="#deleteMany">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                deleteMany<span class="signature">(query, sendToTrash<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Delete many records from a collection</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            
            <th>Attributes</th>
            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>query</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      

      

      
      </td>
  

  

  <td class="description last"></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>sendToTrash</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>If true, keeps the original record in a &quot;trash&quot; collection</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line481">line 481</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The request's result</p></div>
    
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="deleteOne">
        <a class="href-link" href="#deleteOne">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                deleteOne<span class="signature">(recordId, sendToTrash<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Delete a record from the collection</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            
            <th>Attributes</th>
            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>recordId</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  
      <td class="attributes">
      

      

      
      </td>
  

  

  <td class="description last"></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>sendToTrash</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>If true, keeps the original record in a &quot;trash&quot; collection</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line457">line 457</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The request's result</p></div>
    
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="destroy">
        <a class="href-link" href="#destroy">#</a>
        
        <span class="code-name">
            
                destroy<span class="signature">(deleteInMemoryDb)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Destroy the collection.</p>
<p>It deletes the collection and also unsubscribes all its events from kiss.pubsub</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>deleteInMemoryDb</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  

  

  <td class="description last"><p>If true, force to destroy the in-memory database</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line192">line 192</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="filterBy">
        <a class="href-link" href="#filterBy">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                filterBy<span class="signature">(filterConfig)</span><span class="type-signature"> &rarr; {<a href="Array.html">Array</a>.&lt;object>}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Filter the collection</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>filterConfig</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  

  

  <td class="description last"><p>Use MongoDb syntax</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line813">line 813</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>Array of records</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type"><a href="Array.html">Array</a>.&lt;object></code>


    </div>
    
</div>

                
        </div>
    </div>




    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>await myCollection.filterBy({ $and: [     {yearOfBirth: 1980},     {country: "USA"} ]})</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="find">
        <a class="href-link" href="#find">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                find<span class="signature">(query<span class="signature-attributes">opt</span>, nocache<span class="signature-attributes">opt</span>, nospinner<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {array}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Get the records matching a query.</p>
<p>Remember:</p>
<ul>
<li>without a query parameter, it returns all the records of the collection.</li>
<li>the filter can be given as a normalized object which is easy to serialize / deserialize, or as a MongoDb query</li>
<li>the sort can be given as a normalized object, or as a MongoDb sort</li>
<li>in future releases of kissjs, the query syntax could be extended to &quot;sql&quot;</li>
</ul>
<p>For more details about the query object, check the example in the <a href="kiss.db.html#.find">db.find()</a> api.</p>
<p>Tech note:
This method is the one generating the most http traffic, because it returns a collection of records.
Due to the extremely loose coupling system of KissJS components, it can happen that many components
are requesting the same collection at the same time, without knowing it.</p>
<p>To solve this, the method is optimized to request the database only once using a combination of pubsub and Promise:</p>
<ul>
<li>the 1st call is changing the collection state &quot;isLoading&quot; to true</li>
<li>because isLoading is now true, subsequent calls wait for the response of the 1st call inside a promise, which is waiting for the pubsub event &quot;EVT_COLLECTION_LOADED&quot;</li>
<li>when the 1st call has a result, it broadcasts the result in the &quot;EVT_COLLECTION_LOADED&quot; channel, then turns the collection state &quot;isLoading&quot; to false</li>
<li>when the subsequent calls receive the result in the pubsub, the promise resolves</li>
</ul>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            
            <th>Attributes</th>
            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>query</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>Query object</p></td>
</tr>

  
  
    
<tr class="deep-level-1">
  
      <td class="name"><code>filter</code></td>
  

  <td class="type">
  
      
<code class="param-type">*</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>The query</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>filterSyntax</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>The query syntax. By default, passed as a normalized object</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>sort</code></td>
  

  <td class="type">
  
      
<code class="param-type">*</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>Sort fields</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>sortSyntax</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>The sort syntax. By default, passed as a normalized array</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>group</code></td>
  

  <td class="type">
  
      
<code class="param-type"><a href="Array.html">Array</a>.&lt;string></code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>Array of fields to group by: [&quot;country&quot;, &quot;city&quot;]</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>groupUnwind</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>true to unwind the fields for records that belongs to multiple groups</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>projection</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>{firstName: 1, lastName: 1, password: 0}</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>skip</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>Number of records to skip</p></td>
</tr>

  
    
<tr class="deep-level-1">
  
      <td class="name"><code>limit</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>Number of records to return</p></td>
</tr>

  


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>nocache</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>Force the collection to request the database instead of returning the cache</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>nospinner</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  

  <td class="description last"><p>Hide the loading spinner if true</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line604">line 604</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>Array of records</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type">array</code>


    </div>
    
</div>

                
        </div>
    </div>




    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>// Retrieves the records using the default or last used query parameterslet myRecords = await myCollection.find()// Retrieves the records matching a MongoDb querylet myRecords = await myCollection.find({ filterSyntax: "mongo", // Means we use a standard MongoDb query syntax filter: {     $and: [         {yearOfBirth: 1980},         {country: "USA"}     ] }, sortSyntax: "mongo", sort: {     birthDate: 1,     lastName: -1 }, group: ["state", "city"] skip: 200, limit: 100,)// Retrieves the records using a normalized querylet myRecords = await myCollection.find({ filterSyntax: "normalized", filter: {     type: "group",     operator: "and",     filters: [         {             type: "filter",             fieldId: "firstName",             operator: "contains",             value: "wilson"         },         {             type: "filter",             fieldId: "birthDate",             operator: ">",             value: "2020-01-01"          }     ] }, sortSyntax: "normalized", sort: [     {birthDate: "desc"},     {lastName: "asc"} ], group: ["state", "city"], skip: 200, limit: 100,})</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="findById">
        <a class="href-link" href="#findById">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                findById<span class="signature">(recordIds, sort<span class="signature-attributes">opt</span>, sortSyntax<span class="signature-attributes">opt</span>, nocache<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="Array.html">Array</a>.&lt;object>}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Get multiple records of the collection, found by id</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            
            <th>Attributes</th>
            

            
            <th>Default</th>
            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>recordIds</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  
      <td class="attributes">
      

      

      
      </td>
  

  
      <td class="default">
      
      </td>
  

  <td class="description last"><p>ids of the records to retrieve</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>sort</code></td>
  

  <td class="type">
  
      
<code class="param-type"><a href="Array.html">Array</a>.&lt;object></code>
|

<code class="param-type">object</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  
      <td class="default">
      
      </td>
  

  <td class="description last"><p>Sort options, as a normalized array or a Mongo object. Normalized example: [{fieldA: &quot;asc&quot;}, {fieldB: &quot;desc&quot;}]. Mongo example: {fieldA: 1, fieldB: -1}</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>sortSyntax</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  
      <td class="default">
      
          normalized
      
      </td>
  

  <td class="description last"><p>Sort syntax: &quot;nomalized&quot; | &quot;mongo&quot;. Default is normalized</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>nocache</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  
      <td class="attributes">
      
          &lt;optional><br>
      

      

      
      </td>
  

  
      <td class="default">
      
      </td>
  

  <td class="description last"><p>If true, doesn't use cache. Default is false</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line749">line 749</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The list of records, or false is not found</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type"><a href="Array.html">Array</a>.&lt;object></code>


    </div>
    
</div>

                
        </div>
    </div>




    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>const myRecord = await myCollection.findOne("Xzyww90sqxnllM38")</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="findOne">
        <a class="href-link" href="#findOne">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                findOne<span class="signature">(recordId, nocache)</span><span class="type-signature"> &rarr; {object}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Get a single record of the collection ASYNCHRONOUSLY</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>recordId</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>nocache</code></td>
  

  <td class="type">
  
      
<code class="param-type">boolean</code>


  
  </td>

  

  

  <td class="description last"><p>If true, doesn't use cache</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line715">line 715</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The record, or false is not found</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type">object</code>


    </div>
    
</div>

                
        </div>
    </div>




    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>const myRecord = await myCollection.findOne("Xzyww90sqxnllM38")</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="getRecord">
        <a class="href-link" href="#getRecord">#</a>
        
        <span class="code-name">
            
                getRecord<span class="signature">(recordId)</span><span class="type-signature"> &rarr; {object}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Get a single record of the collection SYNCHRONOUSLY</p>
<p>Important: because it's a synchronous method, the collection must be loaded before using it, or it will return undefined</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>recordId</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line794">line 794</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The record</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type">object</code>


    </div>
    
</div>

                
        </div>
    </div>




    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>const myRecord = myCollection.getRecord("Xzyww90sqxnllM38")</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="groupBy">
        <a class="href-link" href="#groupBy">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                groupBy<span class="signature">(groupFields)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Set a groupBy field and reload the records</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>groupFields</code></td>
  

  <td class="type">
  
      
<code class="param-type"><a href="Array.html">Array</a>.&lt;string></code>


  
  </td>

  

  

  <td class="description last"><p>Array of fields to group by.</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line849">line 849</a>
            </span>
        </p>
    
</dl>





















    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>await myCollection.groupBy(["country", "city", "age"])</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="groupCollapse">
        <a class="href-link" href="#groupCollapse">#</a>
        
        <span class="code-name">
            
                groupCollapse<span class="signature">(groupId)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Collapse a group.</p>
<p>Internally, it does 2 things:</p>
<ul>
<li>builds a new dataset without the collapsed records</li>
<li>stores in cache the records that are excluded from the dataset, to use them when expanding the group again</li>
</ul>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>groupId</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  

  

  <td class="description last"><p>Id of the group to expand/collapse. Example: 3.10.7</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line1357">line 1357</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="groupCollapseAll">
        <a class="href-link" href="#groupCollapseAll">#</a>
        
        <span class="code-name">
            
                groupCollapseAll<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Collapse all groups</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line867">line 867</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="groupExpand">
        <a class="href-link" href="#groupExpand">#</a>
        
        <span class="code-name">
            
                groupExpand<span class="signature">(groupId, rowIndex)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Expand a group.</p>
<p>Internally, it retrieves all the hidden records which are hold in cache, and reinjects them in the list of records.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>groupId</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  

  

  <td class="description last"><p>Id of the group to expand/collapse. Example: 3.10.7</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>rowIndex</code></td>
  

  <td class="type">
  
      
<code class="param-type">number</code>


  
  </td>

  

  

  <td class="description last"><p>Index of the group row into the datatable</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line1332">line 1332</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="groupExpandAll">
        <a class="href-link" href="#groupExpandAll">#</a>
        
        <span class="code-name">
            
                groupExpandAll<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Expand all groups</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line858">line 858</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="insertFakeRecords">
        <a class="href-link" href="#insertFakeRecords">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                insertFakeRecords<span class="signature">(numberOfRecords)</span><span class="type-signature"> &rarr; {<a href="Array.html">Array</a>.&lt;object>}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Insert some fake records in the collection, for testing purpose.</p>
<p>It automatically uses the model's fields to generate fake data.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>numberOfRecords</code></td>
  

  <td class="type">
  
      
<code class="param-type">integer</code>


  
  </td>

  

  

  <td class="description last"><p>Number of fake records to insert</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line497">line 497</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The array of inserted records data</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type"><a href="Array.html">Array</a>.&lt;object></code>


    </div>
    
</div>

                
        </div>
    </div>




    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>await myCollection.insertFakeRecords(100)</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="insertMany">
        <a class="href-link" href="#insertMany">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                insertMany<span class="signature">(records)</span><span class="type-signature"> &rarr; {<a href="Array.html">Array</a>.&lt;object>}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Insert many records in the collection</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>records</code></td>
  

  <td class="type">
  
      
<code class="param-type"><a href="Array.html">Array</a>.&lt;object></code>


  
  </td>

  

  

  <td class="description last"><p>An array of records [{...}, {...}] for bulk insert</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line422">line 422</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The array of inserted records data</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type"><a href="Array.html">Array</a>.&lt;object></code>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="insertOne">
        <a class="href-link" href="#insertOne">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                insertOne<span class="signature">(record)</span><span class="type-signature"> &rarr; {object}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Insert one record in the collection</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>record</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  

  

  <td class="description last"><p>A single record</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line433">line 433</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The inserted record data</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type">object</code>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="setMode">
        <a class="href-link" href="#setMode">#</a>
        
        <span class="code-name">
            
                setMode<span class="signature">(mode)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Set the database mode</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>mode</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  

  

  <td class="description last"><p>memory | offline | online</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line214">line 214</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="sortBy">
        <a class="href-link" href="#sortBy">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                sortBy<span class="signature">(sortConfig)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Sort the collection</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>sortConfig</code></td>
  

  <td class="type">
  
      
<code class="param-type"><a href="Array.html">Array</a>.&lt;object></code>


  
  </td>

  

  

  <td class="description last"><p>Array of fields to sort by.</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line834">line 834</a>
            </span>
        </p>
    
</dl>





















    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>await myCollection.sortBy( [     {firstName: "asc"},     {birthDate: "desc"} ])</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id="updateMany">
        <a class="href-link" href="#updateMany">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                updateMany<span class="signature">(query, update)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Update many records in a single collection</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>query</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>update</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line469">line 469</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The request's result</p></div>
    
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="updateOne">
        <a class="href-link" href="#updateOne">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                updateOne<span class="signature">(recordId, update)</span><span class="type-signature"> &rarr; {object}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Update a single record in the collection</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>recordId</code></td>
  

  <td class="type">
  
      
<code class="param-type">string</code>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>update</code></td>
  

  <td class="type">
  
      
<code class="param-type">object</code>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="common_dataCollection.js.html" class="button">View Source</a>
            <span>
                <a href="common_dataCollection.js.html">common/dataCollection.js</a>, <a href="common_dataCollection.js.html#line445">line 445</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The request's result</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<code class="param-type">object</code>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
            </div>
        </div>
    

    

    
</article>

</section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>


</body>
</html>